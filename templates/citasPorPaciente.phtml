<?php require 'header.phtml'; ?>

<main class="container mx-auto mt-8">
    <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">Citas del Paciente</h2>

    <!-- Verificar si hay citas para mostrar -->
    <?php if (!empty($citas)): ?>
        <table class="min-w-full bg-white">
            <thead>
                <tr>
                    <th class="px-6 py-4 text-left text-gray-500">Fecha</th>
                    <th class="px-6 py-4 text-left text-gray-500">Hora</th>
                </tr>
            </thead>
            <tbody>
                <!-- Iterar sobre las citas para mostrarlas -->
                <?php foreach ($citas as $cita): ?>
                    <tr class="border-b">
                        <td class="px-6 py-4"><?= htmlspecialchars($cita->fecha); ?></td>
                        <td class="px-6 py-4"><?= htmlspecialchars($cita->hora); ?></td>
                        <td class="px-6 py-4">
                            <a href="<?= 'editarCita/' . $cita->id ?>" class="text-blue-500 hover:text-blue-700">Editar</a> | 
                            <a href="<?= 'eliminarCita/' . $cita->id ?>" class="text-red-500 hover:text-red-700" onclick="return confirm('¿Está seguro que desea eliminar esta cita?');">Eliminar</a>
                        </td>
                    </tr>
                <?php endforeach; ?>
            </tbody>
        </table>
    <?php else: ?>
        <p class="text-center text-gray-700">No se encontraron citas para este paciente.</p>
    <?php endif; ?>

    <!-- Botón para agregar una nueva cita -->
    <div class="mt-8 text-center">
        <a href="agregarCita" class="bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded">Agregar Cita</a>
    </div>
</main>

<?php require 'footer.phtml'; ?>